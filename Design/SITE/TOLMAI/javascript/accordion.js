$(function(){	// Accordion	$( "#accordion" ).accordion({		event: "null", 		header: "h3"	});	desactivarAcc();	});var desactivarAcc = function(){	//Para desactivar um separador do acordion:	// Add the class ui-state-disabled to the headers that you want disabled	$( ".lingDIV" ).addClass("ui-state-disabled");	$( ".projDIV" ).addClass("ui-state-disabled");	$( ".repoDIV" ).addClass("ui-state-disabled");	var accordion = $( "#accordion" ).data("accordion");	accordion._std_clickHandler = accordion._clickHandler;	accordion._clickHandler = function( event, target ) {	var clicked = $( event.currentTarget || target );	if (! clicked.hasClass("ui-state-disabled"))		this._std_clickHandler(event, target);	};	}var toProjectosfromrepository = function(projecto){   $("#accordion").accordion( "activate" , 2);   $( ".projDIV" ).removeClass("ui-state-disabled");	$( ".lingDIV" ).addClass("ui-state-disabled");	$( ".repoDIV" ).addClass("ui-state-disabled");   //var isto = $(this);   //alert(projecto);   //var isto3 = this.attr("id");   //var isto4 = $(projecto).text();   $.getJSON('functions/test_search_prj_detail.php',{dat:projecto}, abrerepoacordeonproj );   //alert("ola");   $.getJSON('functions/test_lang_single_proj.php',{dat:projecto}, abreproj );   $.getJSON('functions/test_search_auth_proj.php',{dat:projecto}, abproj);   //alert("ola");   //jQuery.get('DB_functions/s_project_detail.php',{dat:projecto},abrerepoacordeonproj );}var toRepository = function(repo){		$("#accordion").accordion( "activate" , 3);	$( ".repoDIV" ).removeClass("ui-state-disabled");	$( ".projDIV" ).addClass("ui-state-disabled");	$( ".lingDIV" ).addClass("ui-state-disabled");	  $(document).ready(function(){    $.getJSON('functions/test_search_Repo.php',{dat:repo}, abrerepoacordeon );  $.getJSON('functions/test_get_repo.php',{dat:repo}, abrerepoacordeon3 );	//jQuery.get('DB_functions/search_repo_2.php',{dat:repo},abrerepoacordeon );    //jQuery.get('DB_functions/get_repo.php',{dat:repo},abrerepoacordeon3 );    });}var returnHome  = function(){   $("#accordion").accordion( "activate" , 0);   $( ".repoDIV" ).addClass("ui-state-disabled");   $( ".projDIV" ).addClass("ui-state-disabled");   $( ".lingDIV" ).addClass("ui-state-disabled");}var toLinguagens = function(){   $("#accordion").accordion( "activate" , 1);	$( ".lingDIV" ).removeClass("ui-state-disabled");	$( ".repoDIV" ).addClass("ui-state-disabled");	$( ".projDIV" ).addClass("ui-state-disabled");}var toProjectos = function(){   $("#accordion").accordion( "activate" , 2);	$( ".projDIV" ).removeClass("ui-state-disabled");	$( ".lingDIV" ).addClass("ui-state-disabled");	$( ".repoDIV" ).addClass("ui-state-disabled");}var funcPesquisa = function(){	//expressao a ser pesquisada	var tex=$("input").val();	var escol = $("#escolha").val(); 	//para nao desencadear quando a pagina Ã© carregada	$(document).ready(function(){ 		//$("#bott").click( function(){ 		//se contiver expressao e for escolhido repositorios			if(tex !="" && escol == "Repositorios")		{	//sao retornados projectos do repositorio escolhido			$.getJSON('functions/test_search_Repo.php',{dat:tex}, processaResposta );		}//Se forem escolhidos dados sobre repositorios		else if (tex =="" && escol == "Repositorios")		{	//dados ainda nao dsiponiveis			apprise('Dados de repositorios');		}//se for pedido o top de linguagens		else if(tex =="" && escol == "Linguagens")		{	//sao retornadas linguagens e suas percentagens			$.getJSON('functions/test_TopLanguages_all.php', pickTopLinguagens );		}//se for pesquisada uma linguagem		else if(tex !="" && escol == "Linguagens")			{				var text=$('input').val().toUpperCase();			$.getJSON('functions/test_search_lang_proj.php',{dat:text}, search_ling );		}//se for feita uma pesquisa por autor		else if(tex !="" && escol == "Autor")		{						$.getJSON('functions/test_search_part_author.php',{dat:text}, search_aut );		}//Se for feita a pesquisa de um projecto (detalhe)		else if(tex !="" && escol == "Projectos")		{			$.getJSON('functions/test_search_prj_detail.php',{dat:text}, search_proj );		}		else if(tex =="" && escol == "Projectos")		{			//pesquisa de todos os projectos de todos os repositorios			$.getJSON('functions/test_search_Repo.php',{dat:"Github"}, processaResposta );			$.getJSON('functions/test_search_Repo.php',{dat:"Sourceforge"}, processaResposta );			$.getJSON('functions/test_search_Repo.php',{dat:"Launchpad"}, processaResposta );		}		else		{			apprise('Tem de preencher o campo referente ao autor');		}			});}var onChange = function(){				escol = $("#escolha").val();				//$("#escolha").bind('onChange', capitalize());			}			//funÃ§Ã£o que muda a 1Âº letra da caixa de texto para maiÃºscula caso			//seja escolhido o repositÃ³riovar capitalize = function(){				escol = $("#escolha").val(); 				tex=$("input").val();				if (escol == "Repositorios")				{				$("input").addClass('capit');				 				}				else				{				$("input").removeClass('capit');				}				escol = $("#escolha").val();				$("#escolha").bind('capitalize', onChange());				//$("#txt1").bind('keyup', mostrar());			}function abrerepoacordeon( dados )			{				var texto = "";				var count = 1;				$.each(dados, function(key, value) {				texto = texto + "<p>-<b></b><a id='" + value + "' href='#' style='color: rgb(0,0,0)' onclick='toProjectosfromrepository(this.id,count)'>" + value + "</a></p>";				});					$("#divrepo").html(texto);				}			function abrerepoacordeon3( dados )			{				var texto = "";				if (dados =="null")				texto = "Nao foram retornados dados.";				else				{				$.each(dados, function(key, value) {					if(key == "description")						texto = texto + "<p><b>Descricao- </b>" + value + ".</p>";					else if(key == "url")						texto = texto + "<p><b>url- </b><a href='"+ value +"'style='color: rgb(0,0,0)'>" + value + "</a></p>";					else if(key == "logo")						texto = texto + "";				});				}				$("#divDetaRepo").html(texto);				}function abrerepoacordeonproj( dados )			{				var texto = "";				$.each(dados, function(key, value) {				if(key == "0")					texto = texto + "<p><b>Data de criaï¿½ï¿½o- </b>" + value + ".</p>";				if(key == "1")					texto = texto + "<p><b>Data de actualização- </b>" + value + ".</p>";				else if(key == "2")					texto = texto + "<p><b>Descricao- </b>"+ value + ".</p>";				else if(key == "4")					texto = texto + "<p><b>Link- </b>" + value + ".</p>";				else if(key == "3")					texto = texto +"";				});				$("#divproj").html(texto);				}function abreproj( dados )			{								var texto =  $("#divproj").html();				var count = 1;				$.each(dados, function(key, value){					if (count < 4)					texto = texto + "<p><b>Linguagem - </b>" + value + ".</p>";					count++;				});				$("#divproj").html(texto);				}function abproj( dados )			{								var texto =  "";				var count = 1;				$.each(dados, function(key, value){					if (count == 1)					texto = texto + "<p><b>Autor- </b>" + value + ".</p>";								});				$("#divColabo").html(texto);				}			//funcao processada na pesquisa de projectos de repositorios			//e abre o acordeon de pesquisa			function processaResposta( dados )			{				var texto =  $("#res").text();				$("#accordion").accordion( "activate" , 4);				$.each(dados, function(key, value) {				if(dados != "null" && value !="")					texto = texto + "<p><p >-<b></b><a id='" + value + "' href='#' style='color: rgb(0,0,0)' onclick='toProjectosfromrepository(this.id)'>" + value + "</a></p></p><p></p>";							else if (dados != "null" && dados == "")					texto = texto + "<p>Nao foram encontrados dados.</p>";				else					texto = texto + "<p>Nao foram encontrados dados.</p>";				});				$("#res").html(texto);				}			//retorna os dados do top de linguagens			//e abre o acordeon de pesquisa			function pickTopLinguagens( dados )			{				var texto = "";				$("#accordion").accordion( "activate" , 4);				$.each(dados, function(key, value) {				if(dados != "null" && value !="")					texto = texto + "<p><b>" + key + " - </b>" + value + " %</p>";								else if (dados != "null" && dados == "")					texto = texto + "<p>Nao foram encontrados dados.</p>";				else					texto = texto + "<p>Nao foram encontrados dados.</p>";				});				$("#res").html(texto);				}			//retorna os dados de pesquisa por linguagem			//e abre o acordeon de pesquisa			function search_ling( dados )			{				var texto = "<p><b>Projectos:</b></p>";				$("#accordion").accordion( "activate" , 4);				$.each(dados, function(key, value) {					if(dados != "null" && value !="")						texto = texto + "<p><b>- </b>" + value + ".</p>";					else if (dados != "null" && dados == "")						texto = texto + "<p>Nao foram encontrados dados.</p>";					else					texto = "NÃ£o foram retornados dados.";				});				$("#res").html(texto);				}			//retorna os dados de pesquisa por autor			//e abre o acordeon de pesquisa			function search_aut( dados )			{					var texto = "<p><b>Projectos:</b></p>";				$("#accordion").accordion( "activate" , 4);				$.each(dados, function(key, value) {					if(dados != "null")						texto = texto + "<p><p >-<b></b><a id='" + value + "' href='#' style='color: rgb(0,0,0)' onclick='toProjectosfromrepository(this.id)'>" + value + "</a></p></p><p></p>";					else if (dados != "null" && dados == "")						texto = texto + "<p>Nao foram encontrados dados.</p>";					else					texto = "<p>Nao foram retornados dados.</p>";				});								$("#res").html(texto);				}			//retorna os dados de pesquisa por projecto			//e abre o acordeon de pesquisa			function search_proj( dados )			{				var texto = "";				$("#accordion").accordion( "activate" , 4);				$.each(dados, function(key, value) {				if(key == "date_c")					texto = texto + "<p><b>Data de criacao- </b>" + value + ".</p>";				else if(key == "date_l")					texto = texto + "<p><b>Data de actualizacao- </b>"+ value + ".</p>";				else if(key == "source")					texto = texto + "<p><b>Link- </b>" + value + ".</p>";				else if(key == "logo")					texto = texto +"";				else					texto = texto + "<p>--------------------------------------</p>";				});				$("#res").html(texto);				}